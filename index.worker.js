/*! For license information please see index.worker.js.LICENSE.txt */
(()=>{var t={742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,i=a(t),s=i[0],f=i[1],c=new o(function(t,e,r){return 3*(e+r)/4-r}(0,s,f)),u=0,h=f>0?s-4:s;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===f&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[u++]=255&e),1===f&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],s=16383,a=0,c=n-o;a<c;a+=s)i.push(f(t,a,a+s>c?c:a+s));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var o,i,s=[],a=e;a<n;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},793:function(t,e,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var i,s,a=r(371),f=r(532),c=r(211),u=r(752),h=r(454),l=r(154),p=r(664),d=r(986),y=r(843).Hq,g=r(496),E={};function w(t,e){return new Date(1980+(e>>9),(e>>5&15)-1,31&e,t>>11,t>>5&63,31&t)}function m(t,e,r,n){return 0===n?"":e?t.toString("utf8",r,r+n):p.default.byte2str(t.slice(r,r+n))}(s=e.ExternalFileAttributeType||(e.ExternalFileAttributeType={}))[s.MSDOS=0]="MSDOS",s[s.AMIGA=1]="AMIGA",s[s.OPENVMS=2]="OPENVMS",s[s.UNIX=3]="UNIX",s[s.VM_CMS=4]="VM_CMS",s[s.ATARI_ST=5]="ATARI_ST",s[s.OS2_HPFS=6]="OS2_HPFS",s[s.MAC=7]="MAC",s[s.Z_SYSTEM=8]="Z_SYSTEM",s[s.CP_M=9]="CP_M",s[s.NTFS=10]="NTFS",s[s.MVS=11]="MVS",s[s.VSE=12]="VSE",s[s.ACORN_RISC=13]="ACORN_RISC",s[s.VFAT=14]="VFAT",s[s.ALT_MVS=15]="ALT_MVS",s[s.BEOS=16]="BEOS",s[s.TANDEM=17]="TANDEM",s[s.OS_400=18]="OS_400",s[s.OSX=19]="OSX",function(t){t[t.STORED=0]="STORED",t[t.SHRUNK=1]="SHRUNK",t[t.REDUCED_1=2]="REDUCED_1",t[t.REDUCED_2=3]="REDUCED_2",t[t.REDUCED_3=4]="REDUCED_3",t[t.REDUCED_4=5]="REDUCED_4",t[t.IMPLODE=6]="IMPLODE",t[t.DEFLATE=8]="DEFLATE",t[t.DEFLATE64=9]="DEFLATE64",t[t.TERSE_OLD=10]="TERSE_OLD",t[t.BZIP2=12]="BZIP2",t[t.LZMA=14]="LZMA",t[t.TERSE_NEW=18]="TERSE_NEW",t[t.LZ77=19]="LZ77",t[t.WAVPACK=97]="WAVPACK",t[t.PPMD=98]="PPMD"}(i=e.CompressionMethod||(e.CompressionMethod={}));var v=function(){function t(t){if(this.data=t,67324752!==t.readUInt32LE(0))throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))}return t.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},t.prototype.flags=function(){return this.data.readUInt16LE(6)},t.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},t.prototype.lastModFileTime=function(){return w(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},t.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},t.prototype.crc32=function(){return this.data.readUInt32LE(14)},t.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},t.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},t.prototype.fileName=function(){return m(this.data,this.useUTF8(),30,this.fileNameLength())},t.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},t.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},t.prototype.useUTF8=function(){return 2048==(2048&this.flags())},t}();e.FileHeader=v;var S=function(){function t(t,e,r){this.header=t,this.record=e,this.data=r}return t.prototype.decompress=function(){var t=this.header.compressionMethod(),e=E[t];if(e)return e(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var r=i[t];throw r||(r="Unknown: "+t),new a.ApiError(a.ErrorCode.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+r)},t.prototype.getHeader=function(){return this.header},t.prototype.getRecord=function(){return this.record},t.prototype.getRawData=function(){return this.data},t}();e.FileData=S;var b=function(){function t(t){this.data=t}return t.prototype.crc32=function(){return this.data.readUInt32LE(0)},t.prototype.compressedSize=function(){return this.data.readUInt32LE(4)},t.prototype.uncompressedSize=function(){return this.data.readUInt32LE(8)},t}();e.DataDescriptor=b;var _=function(){function t(t){if(this.data=t,134630224!==this.data.readUInt32LE(0))throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid archive extra data record signature: "+this.data.readUInt32LE(0))}return t.prototype.length=function(){return this.data.readUInt32LE(4)},t.prototype.extraFieldData=function(){return this.data.slice(8,8+this.length())},t}();e.ArchiveExtraDataRecord=_;var A=function(){function t(t){if(this.data=t,84233040!==this.data.readUInt32LE(0))throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid digital signature signature: "+this.data.readUInt32LE(0))}return t.prototype.size=function(){return this.data.readUInt16LE(4)},t.prototype.signatureData=function(){return this.data.slice(6,6+this.size())},t}();e.DigitalSignature=A;var I=function(){function t(t,e){if(this.zipData=t,this.data=e,33639248!==this.data.readUInt32LE(0))throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()}return t.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},t.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},t.prototype.flag=function(){return this.data.readUInt16LE(8)},t.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},t.prototype.lastModFileTime=function(){return w(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},t.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},t.prototype.crc32=function(){return this.data.readUInt32LE(16)},t.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},t.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},t.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},t.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},t.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},t.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},t.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},t.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},t.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},t.prototype.produceFilename=function(){return m(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},t.prototype.fileName=function(){return this._filename},t.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},t.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},t.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return m(this.data,this.useUTF8(),t,this.fileCommentLength())},t.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},t.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},t.prototype.isDirectory=function(){var t=this.fileName();return!!(16&this.externalAttributes())||"/"===t.charAt(t.length-1)},t.prototype.isFile=function(){return!this.isDirectory()},t.prototype.useUTF8=function(){return 2048==(2048&this.flag())},t.prototype.isEncrypted=function(){return 1==(1&this.flag())},t.prototype.getFileData=function(){var t=this.headerRelativeOffset(),e=new v(this.zipData.slice(t));return new S(e,this,this.zipData.slice(t+e.totalSize()))},t.prototype.getData=function(){return this.getFileData().decompress()},t.prototype.getRawData=function(){return this.getFileData().getRawData()},t.prototype.getStats=function(){return new f.default(f.FileType.FILE,this.uncompressedSize(),365,new Date,this.lastModFileTime())},t}();e.CentralDirectory=I;var O=function(){function t(t){if(this.data=t,101010256!==this.data.readUInt32LE(0))throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))}return t.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},t.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},t.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},t.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},t.prototype.cdSize=function(){return this.data.readUInt32LE(12)},t.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},t.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},t.prototype.cdZipComment=function(){return m(this.data,!0,22,this.cdZipCommentLength())},t.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())},t}();e.EndOfCentralDirectory=O;var F=function(t,e,r,n){this.index=t,this.directoryEntries=e,this.eocd=r,this.data=n};e.ZipTOC=F;var C=function(t){function e(r,n,o){void 0===n&&(n=""),void 0===o&&(o=!0);var i=t.call(this)||this;return i.name=n,i._index=new g.FileIndex,i._directoryEntries=[],i._eocd=null,l.deprecationMessage(o,e.Name,{zipData:"zip data as a Buffer",name:n}),r instanceof F?(i._index=r.index,i._directoryEntries=r.directoryEntries,i._eocd=r.eocd,i.data=r.data):(i.data=r,i.populateIndex()),i}return o(e,t),e.Create=function(t,r){try{e.computeIndex(t.zipData,(function(n){var o=new e(n,t.name,!1);r(null,o)}),!1)}catch(t){r(t)}},e.isAvailable=function(){return!0},e.RegisterDecompressionMethod=function(t,e){E[t]=e},e.computeIndex=function(t,r,n){void 0===n&&(n=!0),n&&console.warn("[ZipFS] ZipFS.computeIndex is now deprecated, and will be removed in the next major release. Please update your code to use 'ZipFS.Create({ zipData: zip file as a Buffer}, cb)' instead.");var o=new g.FileIndex,i=e.getEOCD(t);if(i.diskNumber()!==i.cdDiskNumber())throw new a.ApiError(a.ErrorCode.EINVAL,"ZipFS does not support spanned zip files.");var s=i.cdOffset();if(4294967295===s)throw new a.ApiError(a.ErrorCode.EINVAL,"ZipFS does not support Zip64.");var f=s+i.cdSize();e.computeIndexResponsive(t,o,s,f,r,[],i)},e.getEOCD=function(t){for(var e=Math.min(65557,t.length-1),r=22;r<e;r++)if(101010256===t.readUInt32LE(t.length-r))return new O(t.slice(t.length-r));throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},e.addToIndex=function(t,e){var r=t.fileName();if("/"===r.charAt(0))throw new Error("WHY IS THIS ABSOLUTE");"/"===r.charAt(r.length-1)&&(r=r.substr(0,r.length-1)),t.isDirectory()?e.addPathFast("/"+r,new g.DirInode(t)):e.addPathFast("/"+r,new g.FileInode(t))},e.computeIndexResponsive=function(t,r,n,o,i,s,a){if(n<o){for(var f=0;f++<200&&n<o;){var c=new I(t,t.slice(n));e.addToIndex(c,r),n+=c.totalSize(),s.push(c)}d.default((function(){e.computeIndexResponsive(t,r,n,o,i,s,a)}))}else i(new F(r,s,a,t))},e.prototype.getName=function(){return e.Name+(""!==this.name?" "+this.name:"")},e.prototype.getCentralDirectoryEntry=function(t){var e=this._index.getInode(t);if(null===e)throw a.ApiError.ENOENT(t);if(g.isFileInode(e))return e.getData();if(g.isDirInode(e))return e.getData();throw a.ApiError.EPERM("Invalid inode: "+e)},e.prototype.getCentralDirectoryEntryAt=function(t){var e=this._directoryEntries[t];if(!e)throw new RangeError("Invalid directory index: "+t+".");return e},e.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},e.prototype.getEndOfCentralDirectory=function(){return this._eocd},e.prototype.diskSpace=function(t,e){e(this.data.length,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.statSync=function(t,e){var r,n=this._index.getInode(t);if(null===n)throw a.ApiError.ENOENT(t);if(g.isFileInode(n))r=n.getData().getStats();else{if(!g.isDirInode(n))throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid inode.");r=n.getStats()}return r},e.prototype.openSync=function(t,e,r){if(e.isWriteable())throw new a.ApiError(a.ErrorCode.EPERM,t);var n=this._index.getInode(t);if(!n)throw a.ApiError.ENOENT(t);if(!g.isFileInode(n))throw a.ApiError.EISDIR(t);var o=n.getData(),i=o.getStats();switch(e.pathExistsAction()){case u.ActionType.THROW_EXCEPTION:case u.ActionType.TRUNCATE_FILE:throw a.ApiError.EEXIST(t);case u.ActionType.NOP:return new h.NoSyncFile(this,t,e,i,o.getData());default:throw new a.ApiError(a.ErrorCode.EINVAL,"Invalid FileMode object.")}},e.prototype.readdirSync=function(t){var e=this._index.getInode(t);if(e){if(g.isDirInode(e))return e.getListing();throw a.ApiError.ENOTDIR(t)}throw a.ApiError.ENOENT(t)},e.prototype.readFileSync=function(t,e,r){var n=this.openSync(t,r,420);try{var o=n.getBuffer();return null===e?l.copyingSlice(o):o.toString(e)}finally{n.closeSync()}},e.prototype.populateIndex=function(){var t=this._eocd=e.getEOCD(this.data);if(t.diskNumber()!==t.cdDiskNumber())throw new a.ApiError(a.ErrorCode.EINVAL,"ZipFS does not support spanned zip files.");var r=t.cdOffset();if(4294967295===r)throw new a.ApiError(a.ErrorCode.EINVAL,"ZipFS does not support Zip64.");for(var n=r+t.cdSize();r<n;){var o=new I(this.data,this.data.slice(r));r+=o.totalSize(),e.addToIndex(o,this._index),this._directoryEntries.push(o)}},e}(c.SynchronousFileSystem);C.Name="ZipFS",C.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:l.bufferValidator},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},C.CompressionMethod=i,e.default=C,C.RegisterDecompressionMethod(i.DEFLATE,(function(t,e,r){return l.arrayish2Buffer(y(t.slice(0,e),{chunkSize:r}))})),C.RegisterDecompressionMethod(i.STORED,(function(t,e,r){return l.copyingSlice(t,0,r)}))},523:(t,e,r)=>{var n=r(764).lW;e.__esModule=!0;var o=r(371),i=r(752),s=r(470),a=r(532),f=function(t,e){return t};function c(t){if(t)return t;throw new o.ApiError(o.ErrorCode.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function u(t,e){switch(typeof t){case"number":return t;case"string":var r=parseInt(t,8);return isNaN(r)?e:r;default:return e}}function h(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(1e3*t);throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid time.")}function l(t){if(t.indexOf("\0")>=0)throw new o.ApiError(o.ErrorCode.EINVAL,"Path must be a string without null bytes.");if(""===t)throw new o.ApiError(o.ErrorCode.EINVAL,"Path must not be empty.");return s.resolve(t)}function p(t,e,r,n){switch(typeof t){case"object":return{encoding:void 0!==t.encoding?t.encoding:e,flag:void 0!==t.flag?t.flag:r,mode:u(t.mode,n)};case"string":return{encoding:t,flag:r,mode:n};default:return{encoding:e,flag:r,mode:n}}}function d(){}var y=function(){function t(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100}return t.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new o.ApiError(o.ErrorCode.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},t.prototype._toUnixTimestamp=function(t){if("number"==typeof t)return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},t.prototype.getRootFS=function(){return this.root?this.root:null},t.prototype.rename=function(t,e,r){void 0===r&&(r=d);var n=f(r,1);try{c(this.root).rename(l(t),l(e),n)}catch(t){n(t)}},t.prototype.renameSync=function(t,e){c(this.root).renameSync(l(t),l(e))},t.prototype.exists=function(t,e){void 0===e&&(e=d);var r=f(e,1);try{return c(this.root).exists(l(t),r)}catch(t){return r(!1)}},t.prototype.existsSync=function(t){try{return c(this.root).existsSync(l(t))}catch(t){return!1}},t.prototype.stat=function(t,e){void 0===e&&(e=d);var r=f(e,2);try{return c(this.root).stat(l(t),!1,r)}catch(t){return r(t)}},t.prototype.statSync=function(t){return c(this.root).statSync(l(t),!1)},t.prototype.lstat=function(t,e){void 0===e&&(e=d);var r=f(e,2);try{return c(this.root).stat(l(t),!0,r)}catch(t){return r(t)}},t.prototype.lstatSync=function(t){return c(this.root).statSync(l(t),!0)},t.prototype.truncate=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=d);var n=0;"function"==typeof e?r=e:"number"==typeof e&&(n=e);var i=f(r,1);try{if(n<0)throw new o.ApiError(o.ErrorCode.EINVAL);return c(this.root).truncate(l(t),n,i)}catch(t){return i(t)}},t.prototype.truncateSync=function(t,e){if(void 0===e&&(e=0),e<0)throw new o.ApiError(o.ErrorCode.EINVAL);return c(this.root).truncateSync(l(t),e)},t.prototype.unlink=function(t,e){void 0===e&&(e=d);var r=f(e,1);try{return c(this.root).unlink(l(t),r)}catch(t){return r(t)}},t.prototype.unlinkSync=function(t){return c(this.root).unlinkSync(l(t))},t.prototype.open=function(t,e,r,n){var o=this;void 0===n&&(n=d);var s=u(r,420),a=f(n="function"==typeof r?r:n,2);try{c(this.root).open(l(t),i.FileFlag.getFileFlag(e),s,(function(t,e){e?a(t,o.getFdForFile(e)):a(t)}))}catch(t){a(t)}},t.prototype.openSync=function(t,e,r){return void 0===r&&(r=420),this.getFdForFile(c(this.root).openSync(l(t),i.FileFlag.getFileFlag(e),u(r,420)))},t.prototype.readFile=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=d);var n=p(e,null,"r",null),s=f(r="function"==typeof e?e:r,2);try{var a=i.FileFlag.getFileFlag(n.flag);return a.isReadable()?c(this.root).readFile(l(t),n.encoding,a,s):s(new o.ApiError(o.ErrorCode.EINVAL,"Flag passed to readFile must allow for reading."))}catch(t){return s(t)}},t.prototype.readFileSync=function(t,e){void 0===e&&(e={});var r=p(e,null,"r",null),n=i.FileFlag.getFileFlag(r.flag);if(!n.isReadable())throw new o.ApiError(o.ErrorCode.EINVAL,"Flag passed to readFile must allow for reading.");return c(this.root).readFileSync(l(t),r.encoding,n)},t.prototype.writeFile=function(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=d);var s=p(r,"utf8","w",420),a=f(n="function"==typeof r?r:n,1);try{var u=i.FileFlag.getFileFlag(s.flag);return u.isWriteable()?c(this.root).writeFile(l(t),e,s.encoding,u,s.mode,a):a(new o.ApiError(o.ErrorCode.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(t){return a(t)}},t.prototype.writeFileSync=function(t,e,r){var n=p(r,"utf8","w",420),s=i.FileFlag.getFileFlag(n.flag);if(!s.isWriteable())throw new o.ApiError(o.ErrorCode.EINVAL,"Flag passed to writeFile must allow for writing.");return c(this.root).writeFileSync(l(t),e,n.encoding,s,n.mode)},t.prototype.appendFile=function(t,e,r,n){void 0===n&&(n=d);var s=p(r,"utf8","a",420),a=f(n="function"==typeof r?r:n,1);try{var u=i.FileFlag.getFileFlag(s.flag);if(!u.isAppendable())return a(new o.ApiError(o.ErrorCode.EINVAL,"Flag passed to appendFile must allow for appending."));c(this.root).appendFile(l(t),e,s.encoding,u,s.mode,a)}catch(t){a(t)}},t.prototype.appendFileSync=function(t,e,r){var n=p(r,"utf8","a",420),s=i.FileFlag.getFileFlag(n.flag);if(!s.isAppendable())throw new o.ApiError(o.ErrorCode.EINVAL,"Flag passed to appendFile must allow for appending.");return c(this.root).appendFileSync(l(t),e,n.encoding,s,n.mode)},t.prototype.fstat=function(t,e){void 0===e&&(e=d);var r=f(e,2);try{this.fd2file(t).stat(r)}catch(t){r(t)}},t.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},t.prototype.close=function(t,e){var r=this;void 0===e&&(e=d);var n=f(e,1);try{this.fd2file(t).close((function(e){e||r.closeFd(t),n(e)}))}catch(t){n(t)}},t.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},t.prototype.ftruncate=function(t,e,r){void 0===r&&(r=d);var n="number"==typeof e?e:0,i=f(r="function"==typeof e?e:r,1);try{var s=this.fd2file(t);if(n<0)throw new o.ApiError(o.ErrorCode.EINVAL);s.truncate(n,i)}catch(t){i(t)}},t.prototype.ftruncateSync=function(t,e){void 0===e&&(e=0);var r=this.fd2file(t);if(e<0)throw new o.ApiError(o.ErrorCode.EINVAL);r.truncateSync(e)},t.prototype.fsync=function(t,e){void 0===e&&(e=d);var r=f(e,1);try{this.fd2file(t).sync(r)}catch(t){r(t)}},t.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},t.prototype.fdatasync=function(t,e){void 0===e&&(e=d);var r=f(e,1);try{this.fd2file(t).datasync(r)}catch(t){r(t)}},t.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},t.prototype.write=function(t,e,r,i,s,a){void 0===a&&(a=d);var c,u,h,l=null;if("string"==typeof e){var p="utf8";switch(typeof r){case"function":a=r;break;case"number":l=r,p="string"==typeof i?i:"utf8",a="function"==typeof s?s:a;break;default:return(a="function"==typeof i?i:"function"==typeof s?s:a)(new o.ApiError(o.ErrorCode.EINVAL,"Invalid arguments."))}u=0,h=(c=n.from(e,p)).length}else c=e,u=r,h=i,l="number"==typeof s?s:null,a="function"==typeof s?s:a;var y=f(a,3);try{var g=this.fd2file(t);null==l&&(l=g.getPos()),g.write(c,u,h,l,y)}catch(t){y(t)}},t.prototype.writeSync=function(t,e,r,o,i){var s,a,f,c=0;if("string"==typeof e){f="number"==typeof r?r:null;var u="string"==typeof o?o:"utf8";c=0,a=(s=n.from(e,u)).length}else s=e,c=r,a=o,f="number"==typeof i?i:null;var h=this.fd2file(t);return null==f&&(f=h.getPos()),h.writeSync(s,c,a,f)},t.prototype.read=function(t,e,r,o,i,s){var a,c,u,h,l;if(void 0===s&&(s=d),"number"==typeof e){u=e,a=r;var p=o;s="function"==typeof i?i:s,c=0,h=n.alloc(u),l=f((function(t,e,r){if(t)return s(t);s(t,r.toString(p),e)}),3)}else h=e,c=r,u=o,a=i,l=f(s,3);try{var y=this.fd2file(t);null==a&&(a=y.getPos()),y.read(h,c,u,a,l)}catch(t){l(t)}},t.prototype.readSync=function(t,e,r,o,i){var s,a,f,c,u=!1,h="utf8";"number"==typeof e?(f=e,c=r,h=o,a=0,s=n.alloc(f),u=!0):(s=e,a=r,f=o,c=i);var l=this.fd2file(t);null==c&&(c=l.getPos());var p=l.readSync(s,a,f,c);return u?[s.toString(h),p]:p},t.prototype.fchown=function(t,e,r,n){void 0===n&&(n=d);var o=f(n,1);try{this.fd2file(t).chown(e,r,o)}catch(t){o(t)}},t.prototype.fchownSync=function(t,e,r){this.fd2file(t).chownSync(e,r)},t.prototype.fchmod=function(t,e,r){var n=f(r,1);try{var o="string"==typeof e?parseInt(e,8):e;this.fd2file(t).chmod(o,n)}catch(t){n(t)}},t.prototype.fchmodSync=function(t,e){var r="string"==typeof e?parseInt(e,8):e;this.fd2file(t).chmodSync(r)},t.prototype.futimes=function(t,e,r,n){void 0===n&&(n=d);var o=f(n,1);try{var i=this.fd2file(t);"number"==typeof e&&(e=new Date(1e3*e)),"number"==typeof r&&(r=new Date(1e3*r)),i.utimes(e,r,o)}catch(t){o(t)}},t.prototype.futimesSync=function(t,e,r){this.fd2file(t).utimesSync(h(e),h(r))},t.prototype.rmdir=function(t,e){void 0===e&&(e=d);var r=f(e,1);try{t=l(t),c(this.root).rmdir(t,r)}catch(t){r(t)}},t.prototype.rmdirSync=function(t){return t=l(t),c(this.root).rmdirSync(t)},t.prototype.mkdir=function(t,e,r){void 0===r&&(r=d),"function"==typeof e&&(r=e,e=511);var n=f(r,1);try{t=l(t),c(this.root).mkdir(t,e,n)}catch(t){n(t)}},t.prototype.mkdirSync=function(t,e){c(this.root).mkdirSync(l(t),u(e,511))},t.prototype.readdir=function(t,e){void 0===e&&(e=d);var r=f(e,2);try{t=l(t),c(this.root).readdir(t,r)}catch(t){r(t)}},t.prototype.readdirSync=function(t){return t=l(t),c(this.root).readdirSync(t)},t.prototype.link=function(t,e,r){void 0===r&&(r=d);var n=f(r,1);try{t=l(t),e=l(e),c(this.root).link(t,e,n)}catch(t){n(t)}},t.prototype.linkSync=function(t,e){return t=l(t),e=l(e),c(this.root).linkSync(t,e)},t.prototype.symlink=function(t,e,r,n){void 0===n&&(n=d);var i="string"==typeof r?r:"file",s=f(n="function"==typeof r?r:n,1);try{if("file"!==i&&"dir"!==i)return s(new o.ApiError(o.ErrorCode.EINVAL,"Invalid type: "+i));t=l(t),e=l(e),c(this.root).symlink(t,e,i,s)}catch(t){s(t)}},t.prototype.symlinkSync=function(t,e,r){if(r){if("file"!==r&&"dir"!==r)throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid type: "+r)}else r="file";return t=l(t),e=l(e),c(this.root).symlinkSync(t,e,r)},t.prototype.readlink=function(t,e){void 0===e&&(e=d);var r=f(e,2);try{t=l(t),c(this.root).readlink(t,r)}catch(t){r(t)}},t.prototype.readlinkSync=function(t){return t=l(t),c(this.root).readlinkSync(t)},t.prototype.chown=function(t,e,r,n){void 0===n&&(n=d);var o=f(n,1);try{t=l(t),c(this.root).chown(t,!1,e,r,o)}catch(t){o(t)}},t.prototype.chownSync=function(t,e,r){t=l(t),c(this.root).chownSync(t,!1,e,r)},t.prototype.lchown=function(t,e,r,n){void 0===n&&(n=d);var o=f(n,1);try{t=l(t),c(this.root).chown(t,!0,e,r,o)}catch(t){o(t)}},t.prototype.lchownSync=function(t,e,r){t=l(t),c(this.root).chownSync(t,!0,e,r)},t.prototype.chmod=function(t,e,r){void 0===r&&(r=d);var n=f(r,1);try{var i=u(e,-1);if(i<0)throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid mode.");c(this.root).chmod(l(t),!1,i,n)}catch(t){n(t)}},t.prototype.chmodSync=function(t,e){var r=u(e,-1);if(r<0)throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid mode.");t=l(t),c(this.root).chmodSync(t,!1,r)},t.prototype.lchmod=function(t,e,r){void 0===r&&(r=d);var n=f(r,1);try{var i=u(e,-1);if(i<0)throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid mode.");c(this.root).chmod(l(t),!0,i,n)}catch(t){n(t)}},t.prototype.lchmodSync=function(t,e){var r=u(e,-1);if(r<1)throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid mode.");c(this.root).chmodSync(l(t),!0,r)},t.prototype.utimes=function(t,e,r,n){void 0===n&&(n=d);var o=f(n,1);try{c(this.root).utimes(l(t),h(e),h(r),o)}catch(t){o(t)}},t.prototype.utimesSync=function(t,e,r){c(this.root).utimesSync(l(t),h(e),h(r))},t.prototype.realpath=function(t,e,r){void 0===r&&(r=d);var n="object"==typeof e?e:{},o=f(r="function"==typeof e?e:d,2);try{t=l(t),c(this.root).realpath(t,n,o)}catch(t){o(t)}},t.prototype.realpathSync=function(t,e){return void 0===e&&(e={}),t=l(t),c(this.root).realpathSync(t,e)},t.prototype.watchFile=function(t,e,r){throw void 0===r&&(r=d),new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.unwatchFile=function(t,e){throw void 0===e&&(e=d),new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.watch=function(t,e,r){throw void 0===r&&(r=d),new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.access=function(t,e,r){throw void 0===r&&(r=d),new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.accessSync=function(t,e){throw new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.createReadStream=function(t,e){throw new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.createWriteStream=function(t,e){throw new o.ApiError(o.ErrorCode.ENOTSUP)},t.prototype.wrapCallbacks=function(t){f=t},t.prototype.getFdForFile=function(t){var e=this.nextFd++;return this.fdMap[e]=t,e},t.prototype.fd2file=function(t){var e=this.fdMap[t];if(e)return e;throw new o.ApiError(o.ErrorCode.EBADF,"Invalid file descriptor.")},t.prototype.closeFd=function(t){delete this.fdMap[t]},t}();y.Stats=a.default,e.default=y},371:function(t,e,r){var n,o,i=r(764).lW,s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0,function(t){t[t.EPERM=1]="EPERM",t[t.ENOENT=2]="ENOENT",t[t.EIO=5]="EIO",t[t.EBADF=9]="EBADF",t[t.EACCES=13]="EACCES",t[t.EBUSY=16]="EBUSY",t[t.EEXIST=17]="EEXIST",t[t.ENOTDIR=20]="ENOTDIR",t[t.EISDIR=21]="EISDIR",t[t.EINVAL=22]="EINVAL",t[t.EFBIG=27]="EFBIG",t[t.ENOSPC=28]="ENOSPC",t[t.EROFS=30]="EROFS",t[t.ENOTEMPTY=39]="ENOTEMPTY",t[t.ENOTSUP=95]="ENOTSUP"}(o=e.ErrorCode||(e.ErrorCode={})),e.ErrorStrings={},e.ErrorStrings[o.EPERM]="Operation not permitted.",e.ErrorStrings[o.ENOENT]="No such file or directory.",e.ErrorStrings[o.EIO]="Input/output error.",e.ErrorStrings[o.EBADF]="Bad file descriptor.",e.ErrorStrings[o.EACCES]="Permission denied.",e.ErrorStrings[o.EBUSY]="Resource busy or locked.",e.ErrorStrings[o.EEXIST]="File exists.",e.ErrorStrings[o.ENOTDIR]="File is not a directory.",e.ErrorStrings[o.EISDIR]="File is a directory.",e.ErrorStrings[o.EINVAL]="Invalid argument.",e.ErrorStrings[o.EFBIG]="File is too big.",e.ErrorStrings[o.ENOSPC]="No space left on disk.",e.ErrorStrings[o.EROFS]="Cannot modify a read-only file system.",e.ErrorStrings[o.ENOTEMPTY]="Directory is not empty.",e.ErrorStrings[o.ENOTSUP]="Operation is not supported.";var a=function(t){function r(r,n,i){void 0===n&&(n=e.ErrorStrings[r]);var s=t.call(this,n)||this;return s.syscall="",s.errno=r,s.code=o[r],s.path=i,s.stack=(new Error).stack,s.message="Error: "+s.code+": "+n+(s.path?", '"+s.path+"'":""),s}return s(r,t),r.fromJSON=function(t){var e=new r(0);return e.errno=t.errno,e.code=t.code,e.path=t.path,e.stack=t.stack,e.message=t.message,e},r.fromBuffer=function(t,e){return void 0===e&&(e=0),r.fromJSON(JSON.parse(t.toString("utf8",e+4,e+4+t.readUInt32LE(e))))},r.FileError=function(t,n){return new r(t,e.ErrorStrings[t],n)},r.ENOENT=function(t){return this.FileError(o.ENOENT,t)},r.EEXIST=function(t){return this.FileError(o.EEXIST,t)},r.EISDIR=function(t){return this.FileError(o.EISDIR,t)},r.ENOTDIR=function(t){return this.FileError(o.ENOTDIR,t)},r.EPERM=function(t){return this.FileError(o.EPERM,t)},r.ENOTEMPTY=function(t){return this.FileError(o.ENOTEMPTY,t)},r.prototype.toString=function(){return this.message},r.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},r.prototype.writeToBuffer=function(t,e){void 0===t&&(t=i.alloc(this.bufferSize())),void 0===e&&(e=0);var r=t.write(JSON.stringify(this.toJSON()),e+4);return t.writeUInt32LE(r,e),t},r.prototype.bufferSize=function(){return 4+i.byteLength(JSON.stringify(this.toJSON()))},r}(Error);e.ApiError=a},938:(t,e,r)=>{e.__esModule=!0;var n=r(371),o=function(){function t(){}return t.prototype.sync=function(t){t(new n.ApiError(n.ErrorCode.ENOTSUP))},t.prototype.syncSync=function(){throw new n.ApiError(n.ErrorCode.ENOTSUP)},t.prototype.datasync=function(t){this.sync(t)},t.prototype.datasyncSync=function(){return this.syncSync()},t.prototype.chown=function(t,e,r){r(new n.ApiError(n.ErrorCode.ENOTSUP))},t.prototype.chownSync=function(t,e){throw new n.ApiError(n.ErrorCode.ENOTSUP)},t.prototype.chmod=function(t,e){e(new n.ApiError(n.ErrorCode.ENOTSUP))},t.prototype.chmodSync=function(t){throw new n.ApiError(n.ErrorCode.ENOTSUP)},t.prototype.utimes=function(t,e,r){r(new n.ApiError(n.ErrorCode.ENOTSUP))},t.prototype.utimesSync=function(t,e){throw new n.ApiError(n.ErrorCode.ENOTSUP)},t}();e.BaseFile=o},752:(t,e,r)=>{e.__esModule=!0;var n,o=r(371);!function(t){t[t.NOP=0]="NOP",t[t.THROW_EXCEPTION=1]="THROW_EXCEPTION",t[t.TRUNCATE_FILE=2]="TRUNCATE_FILE",t[t.CREATE_FILE=3]="CREATE_FILE"}(n=e.ActionType||(e.ActionType={}));var i=function(){function t(e){if(this.flagStr=e,t.validFlagStrs.indexOf(e)<0)throw new o.ApiError(o.ErrorCode.EINVAL,"Invalid flag: "+e)}return t.getFileFlag=function(e){return t.flagCache.hasOwnProperty(e)?t.flagCache[e]:t.flagCache[e]=new t(e)},t.prototype.getFlagString=function(){return this.flagStr},t.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},t.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},t.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},t.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},t.prototype.isSynchronous=function(){return-1!==this.flagStr.indexOf("s")},t.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},t.prototype.pathExistsAction=function(){return this.isExclusive()?n.THROW_EXCEPTION:this.isTruncating()?n.TRUNCATE_FILE:n.NOP},t.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?n.CREATE_FILE:n.THROW_EXCEPTION},t}();i.flagCache={},i.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],e.FileFlag=i},211:function(t,e,r){var n,o=r(764).lW,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var s=r(371),a=r(752),f=r(470),c=r(154),u=function(){function t(){}return t.prototype.supportsLinks=function(){return!1},t.prototype.diskSpace=function(t,e){e(0,0)},t.prototype.openFile=function(t,e,r){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.createFile=function(t,e,r,n){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.open=function(t,e,r,n){var o=this;this.stat(t,!1,(function(i,u){if(i)switch(e.pathNotExistsAction()){case a.ActionType.CREATE_FILE:return o.stat(f.dirname(t),!1,(function(i,a){i?n(i):a&&!a.isDirectory()?n(s.ApiError.ENOTDIR(f.dirname(t))):o.createFile(t,e,r,n)}));case a.ActionType.THROW_EXCEPTION:return n(s.ApiError.ENOENT(t));default:return n(new s.ApiError(s.ErrorCode.EINVAL,"Invalid FileFlag object."))}else{if(u&&u.isDirectory())return n(s.ApiError.EISDIR(t));switch(e.pathExistsAction()){case a.ActionType.THROW_EXCEPTION:return n(s.ApiError.EEXIST(t));case a.ActionType.TRUNCATE_FILE:return o.openFile(t,e,(function(t,e){t?n(t):e?e.truncate(0,(function(){e.sync((function(){n(null,e)}))})):c.fail()}));case a.ActionType.NOP:return o.openFile(t,e,n);default:return n(new s.ApiError(s.ErrorCode.EINVAL,"Invalid FileFlag object."))}}}))},t.prototype.rename=function(t,e,r){r(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.renameSync=function(t,e){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.stat=function(t,e,r){r(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.statSync=function(t,e){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.openFileSync=function(t,e,r){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.createFileSync=function(t,e,r){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.openSync=function(t,e,r){var n;try{n=this.statSync(t,!1)}catch(n){switch(e.pathNotExistsAction()){case a.ActionType.CREATE_FILE:if(!this.statSync(f.dirname(t),!1).isDirectory())throw s.ApiError.ENOTDIR(f.dirname(t));return this.createFileSync(t,e,r);case a.ActionType.THROW_EXCEPTION:throw s.ApiError.ENOENT(t);default:throw new s.ApiError(s.ErrorCode.EINVAL,"Invalid FileFlag object.")}}if(n.isDirectory())throw s.ApiError.EISDIR(t);switch(e.pathExistsAction()){case a.ActionType.THROW_EXCEPTION:throw s.ApiError.EEXIST(t);case a.ActionType.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,e,n.mode);case a.ActionType.NOP:return this.openFileSync(t,e,r);default:throw new s.ApiError(s.ErrorCode.EINVAL,"Invalid FileFlag object.")}},t.prototype.unlink=function(t,e){e(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.unlinkSync=function(t){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.rmdir=function(t,e){e(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.rmdirSync=function(t){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.mkdir=function(t,e,r){r(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.mkdirSync=function(t,e){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.readdir=function(t,e){e(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.readdirSync=function(t){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.exists=function(t,e){this.stat(t,null,(function(t){e(!t)}))},t.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch(t){return!1}},t.prototype.realpath=function(t,e,r){if(this.supportsLinks())for(var n=t.split(f.sep),o=0;o<n.length;o++){var i=n.slice(0,o+1);n[o]=f.join.apply(null,i)}else this.exists(t,(function(e){e?r(null,t):r(s.ApiError.ENOENT(t))}))},t.prototype.realpathSync=function(t,e){if(this.supportsLinks()){for(var r=t.split(f.sep),n=0;n<r.length;n++){var o=r.slice(0,n+1);r[n]=f.join.apply(f,o)}return r.join(f.sep)}if(this.existsSync(t))return t;throw s.ApiError.ENOENT(t)},t.prototype.truncate=function(t,e,r){this.open(t,a.FileFlag.getFileFlag("r+"),420,(function(t,n){if(t)return r(t);n.truncate(e,(function(t){n.close((function(e){r(t||e)}))}))}))},t.prototype.truncateSync=function(t,e){var r=this.openSync(t,a.FileFlag.getFileFlag("r+"),420);try{r.truncateSync(e)}catch(t){throw t}finally{r.closeSync()}},t.prototype.readFile=function(t,e,r,n){var i=n;this.open(t,r,420,(function(t,r){if(t)return n(t);n=function(t,e){r.close((function(r){return t||(t=r),i(t,e)}))},r.stat((function(t,i){if(t)return n(t);var s=o.alloc(i.size);r.read(s,0,i.size,0,(function(t){if(t)return n(t);if(null===e)return n(t,s);try{n(null,s.toString(e))}catch(t){n(t)}}))}))}))},t.prototype.readFileSync=function(t,e,r){var n=this.openSync(t,r,420);try{var i=n.statSync(),s=o.alloc(i.size);return n.readSync(s,0,i.size,0),n.closeSync(),null===e?s:s.toString(e)}finally{n.closeSync()}},t.prototype.writeFile=function(t,e,r,n,i,s){var a=s;this.open(t,n,420,(function(t,n){if(t)return s(t);s=function(t){n.close((function(e){a(t||e)}))};try{"string"==typeof e&&(e=o.from(e,r))}catch(t){return s(t)}n.write(e,0,e.length,0,s)}))},t.prototype.writeFileSync=function(t,e,r,n,i){var s=this.openSync(t,n,i);try{"string"==typeof e&&(e=o.from(e,r)),s.writeSync(e,0,e.length,0)}finally{s.closeSync()}},t.prototype.appendFile=function(t,e,r,n,i,s){var a=s;this.open(t,n,i,(function(t,n){if(t)return s(t);s=function(t){n.close((function(e){a(t||e)}))},"string"==typeof e&&(e=o.from(e,r)),n.write(e,0,e.length,null,s)}))},t.prototype.appendFileSync=function(t,e,r,n,i){var s=this.openSync(t,n,i);try{"string"==typeof e&&(e=o.from(e,r)),s.writeSync(e,0,e.length,null)}finally{s.closeSync()}},t.prototype.chmod=function(t,e,r,n){n(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.chmodSync=function(t,e,r){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.chown=function(t,e,r,n,o){o(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.chownSync=function(t,e,r,n){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.utimes=function(t,e,r,n){n(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.utimesSync=function(t,e,r){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.link=function(t,e,r){r(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.linkSync=function(t,e){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.symlink=function(t,e,r,n){n(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.symlinkSync=function(t,e,r){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t.prototype.readlink=function(t,e){e(new s.ApiError(s.ErrorCode.ENOTSUP))},t.prototype.readlinkSync=function(t){throw new s.ApiError(s.ErrorCode.ENOTSUP)},t}();e.BaseFileSystem=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.supportsSynch=function(){return!0},e.prototype.rename=function(t,e,r){try{this.renameSync(t,e),r()}catch(t){r(t)}},e.prototype.stat=function(t,e,r){try{r(null,this.statSync(t,e))}catch(t){r(t)}},e.prototype.open=function(t,e,r,n){try{n(null,this.openSync(t,e,r))}catch(t){n(t)}},e.prototype.unlink=function(t,e){try{this.unlinkSync(t),e()}catch(t){e(t)}},e.prototype.rmdir=function(t,e){try{this.rmdirSync(t),e()}catch(t){e(t)}},e.prototype.mkdir=function(t,e,r){try{this.mkdirSync(t,e),r()}catch(t){r(t)}},e.prototype.readdir=function(t,e){try{e(null,this.readdirSync(t))}catch(t){e(t)}},e.prototype.chmod=function(t,e,r,n){try{this.chmodSync(t,e,r),n()}catch(t){n(t)}},e.prototype.chown=function(t,e,r,n,o){try{this.chownSync(t,e,r,n),o()}catch(t){o(t)}},e.prototype.utimes=function(t,e,r,n){try{this.utimesSync(t,e,r),n()}catch(t){n(t)}},e.prototype.link=function(t,e,r){try{this.linkSync(t,e),r()}catch(t){r(t)}},e.prototype.symlink=function(t,e,r,n){try{this.symlinkSync(t,e,r),n()}catch(t){n(t)}},e.prototype.readlink=function(t,e){try{e(null,this.readlinkSync(t))}catch(t){e(t)}},e}(u);e.SynchronousFileSystem=h},910:(t,e,r)=>{var n;e.__esModule=!0,n="undefined"!=typeof window?window:"undefined"!=typeof self?self:r.g,e.default=n},979:(t,e)=>{function r(t,e,r,n,o){return t<e||r<e?t>r?r+1:t+1:n===o?e:e+1}e.__esModule=!0,e.default=function(t,e){if(t===e)return 0;if(t.length>e.length){var n=t;t=e,e=n}for(var o=t.length,i=e.length;o>0&&t.charCodeAt(o-1)===e.charCodeAt(i-1);)o--,i--;for(var s=0;s<o&&t.charCodeAt(s)===e.charCodeAt(s);)s++;if(i-=s,0==(o-=s)||1===i)return i;for(var a,f,c,u,h,l=new Array(o<<1),p=0;p<o;)l[o+p]=t.charCodeAt(s+p),l[p]=++p;for(a=0;a+3<i;){var d=e.charCodeAt(s+(f=a)),y=e.charCodeAt(s+(c=a+1)),g=e.charCodeAt(s+(u=a+2)),E=e.charCodeAt(s+(h=a+3)),w=a+=4;for(p=0;p<o;){var m=l[o+p];f=r(S=l[p],f,c,d,m),c=r(f,c,u,y,m),u=r(c,u,h,g,m),w=r(u,h,w,E,m),l[p++]=w,h=u,u=c,c=f,f=S}}for(var v=0;a<i;)for(d=e.charCodeAt(s+(f=a)),v=++a,p=0;p<o;p++){var S=l[p];l[p]=v=S<f||v<f?S>v?v+1:S+1:d===l[o+p]?f:f+1,f=S}return v}},181:(t,e,r)=>{e.__esModule=!0;var n=r(523),o=new n.default,i={},s=n.default.prototype;Object.keys(s).forEach((function(t){"function"==typeof o[t]?i[t]=function(){return o[t].apply(o,arguments)}:i[t]=o[t]})),i.changeFSModule=function(t){o=t},i.getFSModule=function(){return o},i.FS=n.default,e.default=i},532:(t,e,r)=>{var n,o=r(764).lW;e.__esModule=!0,function(t){t[t.FILE=32768]="FILE",t[t.DIRECTORY=16384]="DIRECTORY",t[t.SYMLINK=40960]="SYMLINK"}(n=e.FileType||(e.FileType={}));var i=function(){function t(t,e,r,o,i,s){if(void 0===o&&(o=new Date),void 0===i&&(i=new Date),void 0===s&&(s=new Date),this.size=e,this.atime=o,this.mtime=i,this.ctime=s,this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.birthtime=new Date(0),this.fileData=null,r)this.mode=r;else switch(t){case n.FILE:this.mode=420;break;case n.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(e/512),this.mode<4096&&(this.mode|=t)}return t.fromBuffer=function(e){var r=e.readUInt32LE(0),n=e.readUInt32LE(4),o=e.readDoubleLE(8),i=e.readDoubleLE(16),s=e.readDoubleLE(24);return new t(61440&n,r,4095&n,new Date(o),new Date(i),new Date(s))},t.prototype.toBuffer=function(){var t=o.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},t.prototype.clone=function(){return new t(61440&this.mode,this.size,4095&this.mode,this.atime,this.mtime,this.ctime)},t.prototype.isFile=function(){return(61440&this.mode)===n.FILE},t.prototype.isDirectory=function(){return(61440&this.mode)===n.DIRECTORY},t.prototype.isSymbolicLink=function(){return(61440&this.mode)===n.SYMLINK},t.prototype.chmod=function(t){this.mode=61440&this.mode|t},t.prototype.isSocket=function(){return!1},t.prototype.isBlockDevice=function(){return!1},t.prototype.isCharacterDevice=function(){return!1},t.prototype.isFIFO=function(){return!1},t}();e.default=i},154:(t,e,r)=>{var n=r(764).lW;e.__esModule=!0;var o=r(371),i=r(979),s=r(470);function a(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function f(t){return t instanceof n?t:0===t.byteOffset&&t.byteLength===t.buffer.byteLength?c(t.buffer):n.from(t.buffer,t.byteOffset,t.byteLength)}function c(t){return n.from(t)}e.deprecationMessage=function(t,e,r){t&&console.warn("["+e+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+e+".Create("+JSON.stringify(r)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")},e.isIE="undefined"!=typeof navigator&&!(!/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&-1===navigator.userAgent.indexOf("Trident")),e.isWebWorker="undefined"==typeof window,e.fail=function(){throw new Error("BFS has reached an impossible code path; please file a bug.")},e.mkdirpSync=function t(e,r,n){n.existsSync(e)||(t(s.dirname(e),r,n),n.mkdirSync(e,r))},e.buffer2ArrayBuffer=function(t){var e=a(t),r=e.byteOffset,n=e.byteLength;return 0===r&&n===e.buffer.byteLength?e.buffer:e.buffer.slice(r,r+n)},e.buffer2Uint8array=a,e.arrayish2Buffer=function(t){return t instanceof n?t:t instanceof Uint8Array?f(t):n.from(t)},e.uint8Array2Buffer=f,e.arrayBuffer2Buffer=c,e.copyingSlice=function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=t.length),e<0||r<0||r>t.length||e>r)throw new TypeError("Invalid slice bounds on buffer of length "+t.length+": ["+e+", "+r+"]");if(0===t.length)return h();var n=a(t),o=t[0],i=(o+1)%255;return t[0]=i,n[0]===i?(n[0]=o,f(n.slice(e,r))):(t[0]=o,f(n.subarray(e,r)))};var u=null;function h(){return u||(u=n.alloc(0))}e.emptyBuffer=h,e.bufferValidator=function(t,e){n.isBuffer(t)?e():e(new o.ApiError(o.ErrorCode.EINVAL,"option must be a Buffer."))},e.checkOptions=function(t,e,r){var n=t.Options,s=t.Name,a=0,f=!1,c=!1;function u(t){f||(t&&(f=!0,r(t)),0==--a&&c&&r())}var h=function(t){if(n.hasOwnProperty(t)){var c=n[t],h=e[t];if(null==h){if(!c.optional){var l=Object.keys(e).filter((function(t){return!(t in n)})).map((function(e){return{str:e,distance:i.default(t,e)}})).filter((function(t){return t.distance<5})).sort((function(t,e){return t.distance-e.distance}));return f?{value:void 0}:(f=!0,{value:r(new o.ApiError(o.ErrorCode.EINVAL,"["+s+"] Required option '"+t+"' not provided."+(l.length>0?" You provided unrecognized option '"+l[0].str+"'; perhaps you meant to type '"+t+"'.":"")+"\nOption description: "+c.description))})}}else{if(!(Array.isArray(c.type)?-1!==c.type.indexOf(typeof h):typeof h===c.type))return f?{value:void 0}:(f=!0,{value:r(new o.ApiError(o.ErrorCode.EINVAL,"["+s+"] Value provided for option "+t+" is not the proper type. Expected "+(Array.isArray(c.type)?"one of {"+c.type.join(", ")+"}":c.type)+", but received "+typeof h+"\nOption description: "+c.description))});c.validator&&(a++,c.validator(h,u))}}};for(var l in n){var p=h(l);if("object"==typeof p)return p.value}c=!0,0!==a||f||r()}},733:(t,e,r)=>{e.__esModule=!0;var n=r(181),o=r(154),i=function(){function t(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()}return t.prototype.open=function(t){var e=this.fs.realPath(t.node),r=this.FS;try{r.isFile(t.node.mode)&&(t.nfd=this.nodefs.openSync(e,this.fs.flagsToPermissionString(t.flags)))}catch(t){if(!t.code)throw t;throw new r.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.close=function(t){var e=this.FS;try{e.isFile(t.node.mode)&&t.nfd&&this.nodefs.closeSync(t.nfd)}catch(t){if(!t.code)throw t;throw new e.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.read=function(t,e,r,n,i){try{return this.nodefs.readSync(t.nfd,o.uint8Array2Buffer(e),r,n,i)}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.write=function(t,e,r,n,i){try{return this.nodefs.writeSync(t.nfd,o.uint8Array2Buffer(e),r,n,i)}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.llseek=function(t,e,r){var n=e;if(1===r)n+=t.position;else if(2===r&&this.FS.isFile(t.node.mode))try{n+=this.nodefs.fstatSync(t.nfd).size}catch(t){throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}if(n<0)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return t.position=n,n},t}(),s=function(){function t(t){this.fs=t,this.nodefs=t.getNodeFS(),this.FS=t.getFS(),this.PATH=t.getPATH(),this.ERRNO_CODES=t.getERRNO_CODES()}return t.prototype.getattr=function(t){var e,r=this.fs.realPath(t);try{e=this.nodefs.lstatSync(r)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},t.prototype.setattr=function(t,e){var r=this.fs.realPath(t);try{if(void 0!==e.mode&&(this.nodefs.chmodSync(r,e.mode),t.mode=e.mode),void 0!==e.timestamp){var n=new Date(e.timestamp);this.nodefs.utimesSync(r,n,n)}}catch(t){if(!t.code)throw t;if("ENOTSUP"!==t.code)throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}if(void 0!==e.size)try{this.nodefs.truncateSync(r,e.size)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.lookup=function(t,e){var r=this.PATH.join2(this.fs.realPath(t),e),n=this.fs.getMode(r);return this.fs.createNode(t,e,n)},t.prototype.mknod=function(t,e,r,n){var o=this.fs.createNode(t,e,r,n),i=this.fs.realPath(o);try{this.FS.isDir(o.mode)?this.nodefs.mkdirSync(i,o.mode):this.nodefs.writeFileSync(i,"",{mode:o.mode})}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return o},t.prototype.rename=function(t,e,r){var n=this.fs.realPath(t),o=this.PATH.join2(this.fs.realPath(e),r);try{this.nodefs.renameSync(n,o),t.name=r,t.parent=e}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.unlink=function(t,e){var r=this.PATH.join2(this.fs.realPath(t),e);try{this.nodefs.unlinkSync(r)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.rmdir=function(t,e){var r=this.PATH.join2(this.fs.realPath(t),e);try{this.nodefs.rmdirSync(r)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.readdir=function(t){var e=this.fs.realPath(t);try{var r=this.nodefs.readdirSync(e);return r.push(".",".."),r}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.symlink=function(t,e,r){var n=this.PATH.join2(this.fs.realPath(t),e);try{this.nodefs.symlinkSync(r,n)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t.prototype.readlink=function(t){var e=this.fs.realPath(t);try{return this.nodefs.readlinkSync(e)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}},t}(),a=function(){function t(t,e,r,o){void 0===t&&(t=self.FS),void 0===e&&(e=self.PATH),void 0===r&&(r=self.ERRNO_CODES),void 0===o&&(o=n.default),this.flagsToPermissionStringMap={0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},this.nodefs=o,this.FS=t,this.PATH=e,this.ERRNO_CODES=r,this.node_ops=new s(this),this.stream_ops=new i(this)}return t.prototype.mount=function(t){return this.createNode(null,"/",this.getMode(t.opts.root),0)},t.prototype.createNode=function(t,e,r,n){var o=this.FS;if(!o.isDir(r)&&!o.isFile(r)&&!o.isLink(r))throw new o.ErrnoError(this.ERRNO_CODES.EINVAL);var i=o.createNode(t,e,r);return i.node_ops=this.node_ops,i.stream_ops=this.stream_ops,i},t.prototype.getMode=function(t){var e;try{e=this.nodefs.lstatSync(t)}catch(t){if(!t.code)throw t;throw new this.FS.ErrnoError(this.ERRNO_CODES[t.code])}return e.mode},t.prototype.realPath=function(t){for(var e=[];t.parent!==t;)e.push(t.name),t=t.parent;return e.push(t.mount.opts.root),e.reverse(),this.PATH.join.apply(null,e)},t.prototype.flagsToPermissionString=function(t){var e="string"==typeof t?parseInt(t,10):t;return(e&=8191)in this.flagsToPermissionStringMap?this.flagsToPermissionStringMap[e]:t},t.prototype.getNodeFS=function(){return this.nodefs},t.prototype.getFS=function(){return this.FS},t.prototype.getPATH=function(){return this.PATH},t.prototype.getERRNO_CODES=function(){return this.ERRNO_CODES},t}();e.default=a},664:(t,e)=>{e.__esModule=!0;var r=function(){function t(){}return t.str2byte=function(e,r){for(var n=e.length>r.length?r.length:e.length,o=0;o<n;o++){var i=e.charCodeAt(o);if(i>127){var s=t.extendedChars.indexOf(e.charAt(o));s>-1&&(i=s+128)}r[i]=o}return n},t.byte2str=function(e){for(var r=new Array(e.length),n=0;n<e.length;n++){var o=e[n];r[n]=o>127?t.extendedChars[o-128]:String.fromCharCode(o)}return r.join("")},t.byteLength=function(t){return t.length},t}();r.extendedChars=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "],e.default=r},496:(t,e,r)=>{e.__esModule=!0;var n=r(532),o=r(470),i=function(){function t(){this._index={},this.addPath("/",new a)}return t.fromListing=function(e){var r=new t,o=new a;r._index["/"]=o;for(var i=[["",e,o]];i.length>0;){var f=void 0,c=i.pop(),u=c[0],h=c[1],l=c[2];for(var p in h)if(h.hasOwnProperty(p)){var d=h[p],y=u+"/"+p;d?(r._index[y]=f=new a,i.push([y,d,f])):f=new s(new n.default(n.FileType.FILE,-1,365)),l&&(l._ls[p]=f)}}return r},t.prototype.fileIterator=function(t){for(var e in this._index)if(this._index.hasOwnProperty(e))for(var r=this._index[e],n=0,o=r.getListing();n<o.length;n++){var i=o[n],s=r.getItem(i);f(s)&&t(s.getData())}},t.prototype.addPath=function(t,e){if(!e)throw new Error("Inode must be specified");if("/"!==t[0])throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===e;var r=this._split_path(t),n=r[0],o=r[1],i=this._index[n];return!(void 0===i&&"/"!==t&&(i=new a,!this.addPath(n,i))||"/"!==t&&!i.addItem(o,e)||(c(e)&&(this._index[t]=e),0))},t.prototype.addPathFast=function(t,e){var r=t.lastIndexOf("/"),n=0===r?"/":t.substring(0,r),o=t.substring(r+1),i=this._index[n];return void 0===i&&(i=new a,this.addPathFast(n,i)),!!i.addItem(o,e)&&(e.isDir()&&(this._index[t]=e),!0)},t.prototype.removePath=function(t){var e=this._split_path(t),r=e[0],n=e[1],o=this._index[r];if(void 0===o)return null;var i=o.remItem(n);if(null===i)return null;if(c(i)){for(var s=0,a=i.getListing();s<a.length;s++){var f=a[s];this.removePath(t+"/"+f)}"/"!==t&&delete this._index[t]}return i},t.prototype.ls=function(t){var e=this._index[t];return void 0===e?null:e.getListing()},t.prototype.getInode=function(t){var e=this._split_path(t),r=e[0],n=e[1],o=this._index[r];return void 0===o?null:r===t?o:o.getItem(n)},t.prototype._split_path=function(t){var e=o.dirname(t);return[e,t.substr(e.length+("/"===e?0:1))]},t}();e.FileIndex=i;var s=function(){function t(t){this.data=t}return t.prototype.isFile=function(){return!0},t.prototype.isDir=function(){return!1},t.prototype.getData=function(){return this.data},t.prototype.setData=function(t){this.data=t},t}();e.FileInode=s;var a=function(){function t(t){void 0===t&&(t=null),this.data=t,this._ls={}}return t.prototype.isFile=function(){return!1},t.prototype.isDir=function(){return!0},t.prototype.getData=function(){return this.data},t.prototype.getStats=function(){return new n.default(n.FileType.DIRECTORY,4096,365)},t.prototype.getListing=function(){return Object.keys(this._ls)},t.prototype.getItem=function(t){return this._ls[t]||null},t.prototype.addItem=function(t,e){return!(t in this._ls)&&(this._ls[t]=e,!0)},t.prototype.remItem=function(t){var e=this._ls[t];return void 0===e?null:(delete this._ls[t],e)},t}();function f(t){return!!t&&t.isFile()}function c(t){return!!t&&t.isDir()}e.DirInode=a,e.isFileInode=f,e.isDirInode=c},454:function(t,e,r){var n,o=r(764).lW,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var s=r(938),a=r(371),f=r(181),c=r(154),u=function(t){function e(e,r,n,o,i){var s=t.call(this)||this;if(s._pos=0,s._dirty=!1,s._fs=e,s._path=r,s._flag=n,s._stat=o,s._buffer=i||c.emptyBuffer(),s._stat.size!==s._buffer.length&&s._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+s._buffer.length+" long, yet Stats object specifies that file is "+s._stat.size+" long.");return s}return i(e,t),e.prototype.getBuffer=function(){return this._buffer},e.prototype.getStats=function(){return this._stat},e.prototype.getFlag=function(){return this._flag},e.prototype.getPath=function(){return this._path},e.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},e.prototype.advancePos=function(t){return this._pos+=t},e.prototype.setPos=function(t){return this._pos=t},e.prototype.sync=function(t){try{this.syncSync(),t()}catch(e){t(e)}},e.prototype.syncSync=function(){throw new a.ApiError(a.ErrorCode.ENOTSUP)},e.prototype.close=function(t){try{this.closeSync(),t()}catch(e){t(e)}},e.prototype.closeSync=function(){throw new a.ApiError(a.ErrorCode.ENOTSUP)},e.prototype.stat=function(t){try{t(null,this._stat.clone())}catch(e){t(e)}},e.prototype.statSync=function(){return this._stat.clone()},e.prototype.truncate=function(t,e){try{this.truncateSync(t),this._flag.isSynchronous()&&!f.default.getRootFS().supportsSynch()&&this.sync(e),e()}catch(t){return e(t)}},e.prototype.truncateSync=function(t){if(this._dirty=!0,!this._flag.isWriteable())throw new a.ApiError(a.ErrorCode.EPERM,"File not opened with a writeable mode.");if(this._stat.mtime=new Date,t>this._buffer.length){var e=o.alloc(t-this._buffer.length,0);return this.writeSync(e,0,e.length,this._buffer.length),void(this._flag.isSynchronous()&&f.default.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=t;var r=o.alloc(t);this._buffer.copy(r,0,0,t),this._buffer=r,this._flag.isSynchronous()&&f.default.getRootFS().supportsSynch()&&this.syncSync()},e.prototype.write=function(t,e,r,n,o){try{o(null,this.writeSync(t,e,r,n),t)}catch(t){o(t)}},e.prototype.writeSync=function(t,e,r,n){if(this._dirty=!0,null==n&&(n=this.getPos()),!this._flag.isWriteable())throw new a.ApiError(a.ErrorCode.EPERM,"File not opened with a writeable mode.");var i=n+r;if(i>this._stat.size&&(this._stat.size=i,i>this._buffer.length)){var s=o.alloc(i);this._buffer.copy(s),this._buffer=s}var f=t.copy(this._buffer,n,e,e+r);return this._stat.mtime=new Date,this._flag.isSynchronous()?(this.syncSync(),f):(this.setPos(n+f),f)},e.prototype.read=function(t,e,r,n,o){try{o(null,this.readSync(t,e,r,n),t)}catch(t){o(t)}},e.prototype.readSync=function(t,e,r,n){if(!this._flag.isReadable())throw new a.ApiError(a.ErrorCode.EPERM,"File not opened with a readable mode.");null==n&&(n=this.getPos()),n+r>this._stat.size&&(r=this._stat.size-n);var o=this._buffer.copy(t,e,n,n+r);return this._stat.atime=new Date,this._pos=n+r,o},e.prototype.chmod=function(t,e){try{this.chmodSync(t),e()}catch(t){e(t)}},e.prototype.chmodSync=function(t){if(!this._fs.supportsProps())throw new a.ApiError(a.ErrorCode.ENOTSUP);this._dirty=!0,this._stat.chmod(t),this.syncSync()},e.prototype.isDirty=function(){return this._dirty},e.prototype.resetDirty=function(){this._dirty=!1},e}(s.BaseFile);e.default=u;var h=function(t){function e(e,r,n,o,i){return t.call(this,e,r,n,o,i)||this}return i(e,t),e.prototype.sync=function(t){t()},e.prototype.syncSync=function(){},e.prototype.close=function(t){t()},e.prototype.closeSync=function(){},e}(u);e.NoSyncFile=h},986:(t,e,r)=>{e.__esModule=!0;var n,o=r(910);if("undefined"!=typeof setImmediate)n=setImmediate;else{var i=o.default,s=[],a="zero-timeout-message";if(function(){if(void 0!==i.importScripts||!i.postMessage)return!1;var t=!0,e=i.onmessage;return i.onmessage=function(){t=!1},i.postMessage("","*"),i.onmessage=e,t}()){n=function(t){s.push(t),i.postMessage(a,"*")};var f=function(t){if(t.source===self&&t.data===a&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,s.length>0))return s.shift()()};i.addEventListener?i.addEventListener("message",f,!0):i.attachEvent("onmessage",f)}else if(i.MessageChannel){var c=new i.MessageChannel;c.port1.onmessage=function(t){if(s.length>0)return s.shift()()},n=function(t){s.push(t),c.port2.postMessage("")}}else n=function(t){return setTimeout(t,0)}}e.default=n},764:(t,e,r)=>{"use strict";const n=r(742),o=r(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=f,e.h2=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);const o=function(t){if(f.isBuffer(t)){const e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),a(t<0?0:0|d(t))}function l(t){const e=t.length<0?0:0|d(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(o)return n?-1:W(t).length;e=(""+e).toLowerCase(),o=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return C(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function E(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,o){let i,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){let n=-1;for(i=r;i<a;i++)if(c(t,i)===c(e,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===f)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+f>a&&(r=a-f),i=r;i>=0;i--){let r=!0;for(let n=0;n<f;n++)if(c(t,i+n)!==c(e,n)){r=!1;break}if(r)return i}return-1}function v(t,e,r,n){r=Number(r)||0;const o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=e.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(J(n))return s;t[r+s]=n}return s}function S(t,e,r,n){return q(W(e,t.length-r),t,r,n)}function b(t,e,r,n){return q(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return q(Y(e),t,r,n)}function A(t,e,r,n){return q(function(t,e){let r,n,o;const i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);const n=[];let o=e;for(;o<r;){const e=t[o];let i=null,s=e>239?4:e>223?3:e>191?2:1;if(o+s<=r){let r,n,a,f;switch(s){case 1:e<128&&(i=e);break;case 2:r=t[o+1],128==(192&r)&&(f=(31&e)<<6|63&r,f>127&&(i=f));break;case 3:r=t[o+1],n=t[o+2],128==(192&r)&&128==(192&n)&&(f=(15&e)<<12|(63&r)<<6|63&n,f>2047&&(f<55296||f>57343)&&(i=f));break;case 4:r=t[o+1],n=t[o+2],a=t[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(f=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,f>65535&&f<1114112&&(i=f))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(t){const e=t.length;if(e<=F)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=F));return r}(n)}f.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return u(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return h(t)},f.allocUnsafeSlow=function(t){return h(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(X(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=f.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if(X(e,Uint8Array))o+e.length>n.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(n,o)):Uint8Array.prototype.set.call(n,e,o);else{if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)E(this,e,e+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},f.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?O(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t="";const r=e.h2;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,o){if(X(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(i,s),c=this.slice(n,o),u=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==u[t]){i=c[t],s=u[t];break}return i<s?-1:s<i?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return S(this,t,e,r);case"ascii":case"latin1":case"binary":return b(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const F=4096;function C(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function N(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function T(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=e;n<r;++n)o+=K[t[n]];return o}function k(t,e,r){const n=t.slice(e,r);let o="";for(let t=0;t<n.length-1;t+=2)o+=String.fromCharCode(n[t]+256*n[t+1]);return o}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,o,i){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,o){Z(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i,i>>=8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function U(t,e,r,n,o){Z(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i>>=8,t[r+6]=i,i>>=8,t[r+5]=i,i>>=8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function B(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(t,e,r,n,i){return e=+e,r>>>=0,i||B(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,i){return e=+e,r>>>=0,i||B(t,0,r,8),o.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],o=1;for(;e>0&&(o*=256);)n+=this[t+--e]*o;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=G((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),f.prototype.readBigUInt64BE=G((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],o=1,i=0;for(;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,o=1,i=this[t+--n];for(;n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},f.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=G((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),f.prototype.readBigInt64BE=G((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),f.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=G((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=G((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}let o=0,i=1,s=0;for(this[e]=255&t;++o<r&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);L(this,t,e,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[e+o]=255&t;--o>=0&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=G((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=G((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(t,e,r){return P(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return P(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const o=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),o},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{const i=f.isBuffer(t)?t:f.from(t,n),s=i.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=i[o%s]}return this};const M={};function j(t,e,r){M[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function z(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Z(t,e,r,n,o,i){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let o;throw o=i>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new M.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||H(e,t.length-(r+1))}(n,o,i)}function V(t,e){if("number"!=typeof t)throw new M.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new M.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=z(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=z(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const K=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function G(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},645:(t,e)=>{e.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,f=(1<<a)-1,c=f>>1,u=-7,h=r?o-1:0,l=r?-1:1,p=t[e+h];for(h+=l,i=p&(1<<-u)-1,p>>=-u,u+=a;u>0;i=256*i+t[e+h],h+=l,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=n;u>0;s=256*s+t[e+h],h+=l,u-=8);if(0===i)i=1-c;else{if(i===f)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=c}return(p?-1:1)*s*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var s,a,f,c=8*i-o-1,u=(1<<c)-1,h=u>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(s++,f/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*f-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*y}},528:function(t,e,r){"use strict";var n=r(764).lW,o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{f(n.next(t))}catch(t){i(t)}}function a(t){try{f(n.throw(t))}catch(t){i(t)}}function f(t){t.done?o(t.value):new r((function(e){e(t.value)})).then(s,a)}f((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=i(r(793)),a=i(r(523)),f=i(r(733)),c=r(343);e.InProcessTransport=class{constructor(t,e,r,n){this.loadJs=t,this.libraryZip=e,this.memoryMB=r,this.loadOlean=n}connect(){if(self.Module)throw new Error("cannot use more than one instance of InProcessTransport");self.Module={},Module.noExitRuntime=!0,Module.preRun=[()=>console.log("starting lean...")];const t=new u;Module.print=e=>{try{const r=JSON.parse(e);if(this.oleanMap&&this.info)if(r.record&&r.record.source&&r.record.source.file)r.record.source.file=this.getUrl(r.record.source.file);else if(r.results&&!r.file)for(let t=0;t<r.results.length;t++)r.results[t].source&&r.results[t].source.file&&(r.results[t].source.file=this.getUrl(r.results[t].source.file));else if(r.completions)for(let t=0;t<r.completions.length;t++)r.completions[t].source&&r.completions[t].source.file&&(r.completions[t].source.file=this.getUrl(r.completions[t].source.file));t.jsonMessage.fire(r)}catch(r){t.error.fire({error:"connect",message:`cannot parse: ${e}, error: ${r}`})}},Module.printErr=e=>t.error.fire({error:"stderr",chunk:e}),Module.TOTAL_MEMORY=1024*this.memoryMB*1024;const e=new Promise(((t,e)=>Module.onRuntimeInitialized=t));return console.log("downloading lean..."),t.module=this.init(e),t.module.catch((e=>t.error.fire({error:"connect",message:`could not start emscripten version of lean: ${e}`}))),t}getUrl(t){const e=t.slice(9,-5),r=this.info[this.oleanMap[e]];return r?r+e+".lean":t}init(t){return o(this,void 0,void 0,(function*(){const[e,r,n,o]=yield Promise.all([this.loadJs(),t,this.libraryZip,this.loadOlean()]);if(n){const t=yield new Promise(((t,e)=>s.default.Create({zipData:n.zipBuffer},((r,n)=>r?e(r):t(n))))),e=new a.default;e.initialize(t);const r=new f.default(Module.FS,Module.PATH,Module.ERRNO_CODES,e);(Module.FS.createPath||Module.FS.createFolder)(Module.FS.root,"library",!0,!0),Module.FS.mount(r,{root:"/"},"/library"),this.info=n.urls}return this.oleanMap=o,(Module.lean_init||Module._lean_init)(),console.log("lean server initialized."),Module}))}};class u{constructor(){this.error=new c.Event,this.jsonMessage=new c.Event,this.alive=!0}send(t){this.module.then((e=>{const r=JSON.stringify(t),n=(lengthBytesUTF8||e.lengthBytesUTF8)(r)+1,o=e._malloc(n);(stringToUTF8||e.stringToUTF8)(r,o,n),(e.lean_process_request||e._lean_process_request)(o),e._free(o)}))}dispose(){}}function h(t){return new Promise(((e,r)=>{const n=new XMLHttpRequest;n.responseType="text",n.open("GET",t),n.onloadend=o=>{200===n.status?e(n.responseText):(console.log(`could not fetch ${t}: http code ${n.status} ${n.statusText}`),r(`could not fetch ${t}: http code ${n.status} ${n.statusText}`))},n.onerror=e=>{console.log(`error fetching ${t}`,e),r(e)},n.send()}))}function l(t,e,r){return new Promise(((o,i)=>{const s=new XMLHttpRequest;s.responseType="arraybuffer",s.open("GET",t),s.onloadend=a=>{200===s.status?r?h(e).then((t=>o({zipBuffer:new n(s.response),urls:JSON.parse(t)})),(()=>o({zipBuffer:new n(s.response)}))):o({zipBuffer:new n(s.response)}):i(`could not fetch ${t}: http code ${s.status} ${s.statusText}`)},s.onerror=t=>i(t),s.send()}))}e.loadJsOrWasm=function(t,e){if(self.WebAssembly&&t.webassemblyJs&&t.webassemblyWasm)return Module.locateFile=()=>t.webassemblyWasm,e(t.webassemblyJs);if(t.javascript)return e(t.javascript);throw new Error(`cannot load lean.js from urls in ${t}`)},e.loadBufferFromURL=l,e.loadBufferFromURLCached=function(t,e,r,o){if(!t)return null;if(!t.toLowerCase().endsWith(".zip"))return null;if(e||(e=t.slice(0,-3)+"info.json"),!("indexedDB"in self))return l(t,e,!0);r||(r=t.split("/").pop().slice(0,-4));const i=h(e);o||(o="leanlibrary");const s=new Promise(((t,e)=>{const r=indexedDB.open(o,3);r.onsuccess=e=>{t(r.result)},r.onerror=t=>{console.log("failed to open indexedDB",t,r.error),e(r.error)},r.onupgradeneeded=t=>{const{result:e}=r,n=r.result.objectStoreNames;for(let t=0;t<n.length;t++)e.deleteObjectStore(n[t]);e.createObjectStore("library"),e.createObjectStore("meta")}})),a=s.then((t=>new Promise(((e,n)=>{const o=t.transaction("meta").objectStore("meta").get(r);o.onsuccess=t=>{e(o.result)},o.onerror=t=>{console.log(`error getting info.json for ${r} from cache`,t,o.error),n(o.error)}}))));return Promise.all([i,s,a]).then((([o,i,s])=>s&&s===o?new Promise(((t,e)=>{const s=i.transaction("library").objectStore("library").get(r);s.onsuccess=e=>{t({zipBuffer:new n(s.result),urls:JSON.parse(o)})},s.onerror=t=>{console.log(`error getting ${r} from cache`,t,s.error),e(s.error)}})):l(t,e).then((t=>new Promise(((e,n)=>{const s=i.transaction("library","readwrite").objectStore("library").put(t.zipBuffer,r);s.onsuccess=r=>{e({zipBuffer:t.zipBuffer,urls:JSON.parse(o)})},s.onerror=t=>{console.log(`error saving ${r} to cache`,t,s.error),n(s.error)}})))).then((t=>new Promise(((e,n)=>{const s=i.transaction("meta","readwrite").objectStore("meta").put(o,r);s.onsuccess=r=>{e(t)},s.onerror=t=>{console.log(`error saving info.json for ${r} to cache`,t,s.error),n(s.error)}})))))).catch((r=>(console.log("error in caching: falling back to uncached download",r),l(t,e,!0))))}},960:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=class{constructor(){this.handlers=[]}on(t){return this.handlers.push(t),{dispose:()=>{this.handlers=this.handlers.filter((e=>e!==t))}}}fire(t){for(const e of this.handlers)e(t)}dispose(){this.handlers=[]}}},343:(t,e,r)=>{"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(960)),n(r(15))},15:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{f(n.next(t))}catch(t){i(t)}}function a(t){try{f(n.throw(t))}catch(t){i(t)}}function f(t){t.done?o(t.value):new r((function(e){e(t.value)})).then(s,a)}f((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=r(960);e.Server=class{constructor(t){this.transport=t,this.jsonMessage=new o.Event,this.error=new o.Event,this.allMessages=new o.Event,this.tasks=new o.Event,this.logMessagesToConsole=!1,this.currentSeqNum=0,this.currentMessages=[],this.sentRequests=new Map,this.jsonMessage.on((t=>this.onMessage(t)))}connect(){this.conn=this.transport.connect(),this.conn.jsonMessage.on((t=>this.jsonMessage.fire(t))),this.conn.error.on((t=>this.error.fire(t)))}restart(){this.dispose(),this.connect()}send(t){if(!this.alive())return new Promise(((t,e)=>e("server is not alive")));this.logMessagesToConsole&&console.log("=> server: ",t),t.seq_num=this.currentSeqNum++;const e=new Promise(((e,r)=>this.sentRequests.set(t.seq_num,{resolve:e,reject:r})));return this.conn.send(t),e}info(t,e,r){return this.send({command:"info",file_name:t,line:e,column:r})}sync(t,e){return this.send({command:"sync",file_name:t,content:e})}complete(t,e,r,n){return this.send({command:"complete",file_name:t,line:e,column:r,skip_completions:n||!1})}symbols(t){return this.send({command:"symbols",file_name:t})}search(t){return this.send({command:"search",query:t})}allHoleCommands(t){return this.send({command:"all_hole_commands",file_name:t})}holeCommands(t,e,r){return this.send({command:"hole_commands",file_name:t,line:e,column:r})}hole(t,e,r,n){return this.send({command:"hole",file_name:t,line:e,column:r,action:n})}roi(t,e){return this.send({command:"roi",files:e,mode:t})}alive(){return this.conn&&this.conn.alive}dispose(){this.conn&&(this.conn.dispose(),this.sentRequests.forEach(((t,e)=>t.reject("disposed"))),this.sentRequests.clear(),this.currentSeqNum=0,this.conn=null)}makeProxyTransport(){return{connect:()=>new i(this)}}onMessage(t){this.logMessagesToConsole&&console.log("<= server: ",t);const e=this.sentRequests.get(t.seq_num);if(void 0!==e)this.sentRequests.delete(t.seq_num),"ok"===t.response?e.resolve(t):e.reject(t.message||t);else if("all_messages"===t.response){const e=t;this.currentMessages=e.msgs,this.allMessages.fire(e)}else if("additional_message"===t.response){const e=t;this.currentMessages=this.currentMessages.concat([e.msg]),this.allMessages.fire({response:"all_messages",msgs:this.currentMessages})}else"current_tasks"===t.response?this.tasks.fire(t):this.error.fire({error:"unrelated",message:t.message||JSON.stringify(t)})}};class i{constructor(t){this.parent=t,this.error=new o.Event,this.jsonMessage=new o.Event,this.subscriptions=[],this.subscriptions.push(this.error,this.jsonMessage,this.parent.jsonMessage.on((t=>t.seq_num||this.jsonMessage.fire(t))),this.parent.error.on((t=>this.error.fire("unrelated"==t.error?Object.assign({},t,{error:"connect"}):t))))}get alive(){return this.parent.alive()}send(t){return n(this,void 0,void 0,(function*(){const e=t.seq_num;try{const r=yield this.parent.send(t);this.jsonMessage.fire(Object.assign({},r,{seq_num:e}))}catch(t){const r={response:"error",message:t,seq_num:e};this.jsonMessage.fire(r)}}))}dispose(){for(const t of this.subscriptions)t.dispose()}}e.ProxyConnection=i},843:(t,e,r)=>{"use strict";var n=r(948),o=r(236),i=r(373),s=r(619),a=r(898),f=r(292),c=r(401),u=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==s.Z_OK)throw new Error(a[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=i.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[r])}h.prototype.push=function(t,e){var r,a,f,c,h,l=this.strm,p=this.options.chunkSize,d=this.options.dictionary,y=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?l.input=i.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new o.Buf8(p),l.next_out=0,l.avail_out=p),(r=n.inflate(l,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(r=n.inflateSetDictionary(this.strm,d)),r===s.Z_BUF_ERROR&&!0===y&&(r=s.Z_OK,y=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&r!==s.Z_STREAM_END&&(0!==l.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(f=i.utf8border(l.output,l.next_out),c=l.next_out-f,h=i.buf2string(l.output,f),l.next_out=c,l.avail_out=p-c,c&&o.arraySet(l.output,l.output,f,c,0),this.onData(h)):this.onData(o.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(y=!0)}while((l.avail_in>0||0===l.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),l.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Hq=function(t,e){return(e=e||{}).raw=!0,function(t,e){var r=new h(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}(t,e)}},236:(t,e)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)n(r,o)&&(t[o]=r[o])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,o){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),o);else for(var i=0;i<n;i++)t[o+i]=e[r+i]},flattenChunks:function(t){var e,r,n,o,i,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(s=new Uint8Array(n),o=0,e=0,r=t.length;e<r;e++)i=t[e],s.set(i,o),o+=i.length;return s}},i={arraySet:function(t,e,r,n,o){for(var i=0;i<n;i++)t[o+i]=e[r+i]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},373:(t,e,r)=>{"use strict";var n=r(236),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var s=new n.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function f(t,e){if(e<65534&&(t.subarray&&i||!t.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r}s[254]=s[254]=1,e.string2buf=function(t){var e,r,o,i,s,a=t.length,f=0;for(i=0;i<a;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(o=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),f+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(f),s=0,i=0;s<f;i++)55296==(64512&(r=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(o=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(o-56320),i++),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},e.buf2binstring=function(t){return f(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,o=e.length;r<o;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,o,i,a=e||t.length,c=new Array(2*a);for(n=0,r=0;r<a;)if((o=t[r++])<128)c[n++]=o;else if((i=s[o])>4)c[n++]=65533,r+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&r<a;)o=o<<6|63&t[r++],i--;i>1?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return f(c,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+s[t[r]]>e?r:e}},69:t=>{"use strict";t.exports=function(t,e,r,n){for(var o=65535&t|0,i=t>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{i=i+(o=o+e[n++]|0)|0}while(--s);o%=65521,i%=65521}return o|i<<16|0}},619:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},869:t=>{"use strict";var e=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,r,n,o){var i=e,s=o+n;t^=-1;for(var a=o;a<s;a++)t=t>>>8^i[255&(t^r[a])];return-1^t}},401:t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},264:t=>{"use strict";t.exports=function(t,e){var r,n,o,i,s,a,f,c,u,h,l,p,d,y,g,E,w,m,v,S,b,_,A,I,O;r=t.state,n=t.next_in,I=t.input,o=n+(t.avail_in-5),i=t.next_out,O=t.output,s=i-(e-t.avail_out),a=i+(t.avail_out-257),f=r.dmax,c=r.wsize,u=r.whave,h=r.wnext,l=r.window,p=r.hold,d=r.bits,y=r.lencode,g=r.distcode,E=(1<<r.lenbits)-1,w=(1<<r.distbits)-1;t:do{d<15&&(p+=I[n++]<<d,d+=8,p+=I[n++]<<d,d+=8),m=y[p&E];e:for(;;){if(p>>>=v=m>>>24,d-=v,0==(v=m>>>16&255))O[i++]=65535&m;else{if(!(16&v)){if(0==(64&v)){m=y[(65535&m)+(p&(1<<v)-1)];continue e}if(32&v){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}S=65535&m,(v&=15)&&(d<v&&(p+=I[n++]<<d,d+=8),S+=p&(1<<v)-1,p>>>=v,d-=v),d<15&&(p+=I[n++]<<d,d+=8,p+=I[n++]<<d,d+=8),m=g[p&w];r:for(;;){if(p>>>=v=m>>>24,d-=v,!(16&(v=m>>>16&255))){if(0==(64&v)){m=g[(65535&m)+(p&(1<<v)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(b=65535&m,d<(v&=15)&&(p+=I[n++]<<d,(d+=8)<v&&(p+=I[n++]<<d,d+=8)),(b+=p&(1<<v)-1)>f){t.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=v,d-=v,b>(v=i-s)){if((v=b-v)>u&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(_=0,A=l,0===h){if(_+=c-v,v<S){S-=v;do{O[i++]=l[_++]}while(--v);_=i-b,A=O}}else if(h<v){if(_+=c+h-v,(v-=h)<S){S-=v;do{O[i++]=l[_++]}while(--v);if(_=0,h<S){S-=v=h;do{O[i++]=l[_++]}while(--v);_=i-b,A=O}}}else if(_+=h-v,v<S){S-=v;do{O[i++]=l[_++]}while(--v);_=i-b,A=O}for(;S>2;)O[i++]=A[_++],O[i++]=A[_++],O[i++]=A[_++],S-=3;S&&(O[i++]=A[_++],S>1&&(O[i++]=A[_++]))}else{_=i-b;do{O[i++]=O[_++],O[i++]=O[_++],O[i++]=O[_++],S-=3}while(S>2);S&&(O[i++]=O[_++],S>1&&(O[i++]=O[_++]))}break}}break}}while(n<o&&i<a);n-=S=d>>3,p&=(1<<(d-=S<<3))-1,t.next_in=n,t.next_out=i,t.avail_in=n<o?o-n+5:5-(n-o),t.avail_out=i<a?a-i+257:257-(i-a),r.hold=p,r.bits=d}},948:(t,e,r)=>{"use strict";var n=r(236),o=r(69),i=r(869),s=r(264),a=r(241),f=0,c=-2,u=1,h=12,l=30,p=852,d=592;function y(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=u,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(p),e.distcode=e.distdyn=new n.Buf32(d),e.sane=1,e.back=-1,f):c}function w(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,E(t)):c}function m(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?c:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,w(t))):c}function v(t,e){var r,n;return t?(n=new g,t.state=n,n.window=null,(r=m(t,e))!==f&&(t.state=null),r):c}var S,b,_=!0;function A(t){if(_){var e;for(S=new n.Buf32(512),b=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,S,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,b,0,t.work,{bits:5}),_=!1}t.lencode=S,t.lenbits=9,t.distcode=b,t.distbits=5}function I(t,e,r,o){var i,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),o>=s.wsize?(n.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>o&&(i=o),n.arraySet(s.window,e,r-o,i,s.wnext),(o-=i)?(n.arraySet(s.window,e,r-o,o,0),s.wnext=o,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}e.inflateReset=w,e.inflateReset2=m,e.inflateResetKeep=E,e.inflateInit=function(t){return v(t,15)},e.inflateInit2=v,e.inflate=function(t,e){var r,p,d,g,E,w,m,v,S,b,_,O,F,C,N,T,k,R,L,x,U,B,P,D,M=0,j=new n.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;(r=t.state).mode===h&&(r.mode=13),E=t.next_out,d=t.output,m=t.avail_out,g=t.next_in,p=t.input,w=t.avail_in,v=r.hold,S=r.bits,b=w,_=m,B=f;t:for(;;)switch(r.mode){case u:if(0===r.wrap){r.mode=13;break}for(;S<16;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(2&r.wrap&&35615===v){r.check=0,j[0]=255&v,j[1]=v>>>8&255,r.check=i(r.check,j,2,0),v=0,S=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=l;break}if(8!=(15&v)){t.msg="unknown compression method",r.mode=l;break}if(S-=4,U=8+(15&(v>>>=4)),0===r.wbits)r.wbits=U;else if(U>r.wbits){t.msg="invalid window size",r.mode=l;break}r.dmax=1<<U,t.adler=r.check=1,r.mode=512&v?10:h,v=0,S=0;break;case 2:for(;S<16;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(r.flags=v,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=l;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=l;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,r.check=i(r.check,j,2,0)),v=0,S=0,r.mode=3;case 3:for(;S<32;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}r.head&&(r.head.time=v),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,j[2]=v>>>16&255,j[3]=v>>>24&255,r.check=i(r.check,j,4,0)),v=0,S=0,r.mode=4;case 4:for(;S<16;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,r.check=i(r.check,j,2,0)),v=0,S=0,r.mode=5;case 5:if(1024&r.flags){for(;S<16;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(j[0]=255&v,j[1]=v>>>8&255,r.check=i(r.check,j,2,0)),v=0,S=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((O=r.length)>w&&(O=w),O&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,p,g,O,U)),512&r.flags&&(r.check=i(r.check,p,O,g)),w-=O,g+=O,r.length-=O),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===w)break t;O=0;do{U=p[g+O++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U))}while(U&&O<w);if(512&r.flags&&(r.check=i(r.check,p,O,g)),w-=O,g+=O,U)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===w)break t;O=0;do{U=p[g+O++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U))}while(U&&O<w);if(512&r.flags&&(r.check=i(r.check,p,O,g)),w-=O,g+=O,U)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;S<16;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(v!==(65535&r.check)){t.msg="header crc mismatch",r.mode=l;break}v=0,S=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=h;break;case 10:for(;S<32;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}t.adler=r.check=y(v),v=0,S=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=E,t.avail_out=m,t.next_in=g,t.avail_in=w,r.hold=v,r.bits=S,2;t.adler=r.check=1,r.mode=h;case h:if(5===e||6===e)break t;case 13:if(r.last){v>>>=7&S,S-=7&S,r.mode=27;break}for(;S<3;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}switch(r.last=1&v,S-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(A(r),r.mode=20,6===e){v>>>=2,S-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=l}v>>>=2,S-=2;break;case 14:for(v>>>=7&S,S-=7&S;S<32;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=l;break}if(r.length=65535&v,v=0,S=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(O=r.length){if(O>w&&(O=w),O>m&&(O=m),0===O)break t;n.arraySet(d,p,g,O,E),w-=O,g+=O,m-=O,E+=O,r.length-=O;break}r.mode=h;break;case 17:for(;S<14;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(r.nlen=257+(31&v),v>>>=5,S-=5,r.ndist=1+(31&v),v>>>=5,S-=5,r.ncode=4+(15&v),v>>>=4,S-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=l;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;S<3;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}r.lens[z[r.have++]]=7&v,v>>>=3,S-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},B=a(0,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,B){t.msg="invalid code lengths set",r.mode=l;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;T=(M=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,k=65535&M,!((N=M>>>24)<=S);){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(k<16)v>>>=N,S-=N,r.lens[r.have++]=k;else{if(16===k){for(D=N+2;S<D;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(v>>>=N,S-=N,0===r.have){t.msg="invalid bit length repeat",r.mode=l;break}U=r.lens[r.have-1],O=3+(3&v),v>>>=2,S-=2}else if(17===k){for(D=N+3;S<D;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}S-=N,U=0,O=3+(7&(v>>>=N)),v>>>=3,S-=3}else{for(D=N+7;S<D;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}S-=N,U=0,O=11+(127&(v>>>=N)),v>>>=7,S-=7}if(r.have+O>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=l;break}for(;O--;)r.lens[r.have++]=U}}if(r.mode===l)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=l;break}if(r.lenbits=9,P={bits:r.lenbits},B=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,B){t.msg="invalid literal/lengths set",r.mode=l;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},B=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,B){t.msg="invalid distances set",r.mode=l;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(w>=6&&m>=258){t.next_out=E,t.avail_out=m,t.next_in=g,t.avail_in=w,r.hold=v,r.bits=S,s(t,_),E=t.next_out,d=t.output,m=t.avail_out,g=t.next_in,p=t.input,w=t.avail_in,v=r.hold,S=r.bits,r.mode===h&&(r.back=-1);break}for(r.back=0;T=(M=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,k=65535&M,!((N=M>>>24)<=S);){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(T&&0==(240&T)){for(R=N,L=T,x=k;T=(M=r.lencode[x+((v&(1<<R+L)-1)>>R)])>>>16&255,k=65535&M,!(R+(N=M>>>24)<=S);){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}v>>>=R,S-=R,r.back+=R}if(v>>>=N,S-=N,r.back+=N,r.length=k,0===T){r.mode=26;break}if(32&T){r.back=-1,r.mode=h;break}if(64&T){t.msg="invalid literal/length code",r.mode=l;break}r.extra=15&T,r.mode=22;case 22:if(r.extra){for(D=r.extra;S<D;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,S-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;T=(M=r.distcode[v&(1<<r.distbits)-1])>>>16&255,k=65535&M,!((N=M>>>24)<=S);){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(0==(240&T)){for(R=N,L=T,x=k;T=(M=r.distcode[x+((v&(1<<R+L)-1)>>R)])>>>16&255,k=65535&M,!(R+(N=M>>>24)<=S);){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}v>>>=R,S-=R,r.back+=R}if(v>>>=N,S-=N,r.back+=N,64&T){t.msg="invalid distance code",r.mode=l;break}r.offset=k,r.extra=15&T,r.mode=24;case 24:if(r.extra){for(D=r.extra;S<D;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,S-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=l;break}r.mode=25;case 25:if(0===m)break t;if(O=_-m,r.offset>O){if((O=r.offset-O)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=l;break}O>r.wnext?(O-=r.wnext,F=r.wsize-O):F=r.wnext-O,O>r.length&&(O=r.length),C=r.window}else C=d,F=E-r.offset,O=r.length;O>m&&(O=m),m-=O,r.length-=O;do{d[E++]=C[F++]}while(--O);0===r.length&&(r.mode=21);break;case 26:if(0===m)break t;d[E++]=r.length,m--,r.mode=21;break;case 27:if(r.wrap){for(;S<32;){if(0===w)break t;w--,v|=p[g++]<<S,S+=8}if(_-=m,t.total_out+=_,r.total+=_,_&&(t.adler=r.check=r.flags?i(r.check,d,_,E-_):o(r.check,d,_,E-_)),_=m,(r.flags?v:y(v))!==r.check){t.msg="incorrect data check",r.mode=l;break}v=0,S=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;S<32;){if(0===w)break t;w--,v+=p[g++]<<S,S+=8}if(v!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=l;break}v=0,S=0}r.mode=29;case 29:B=1;break t;case l:B=-3;break t;case 31:return-4;default:return c}return t.next_out=E,t.avail_out=m,t.next_in=g,t.avail_in=w,r.hold=v,r.bits=S,(r.wsize||_!==t.avail_out&&r.mode<l&&(r.mode<27||4!==e))&&I(t,t.output,t.next_out,_-t.avail_out)?(r.mode=31,-4):(b-=t.avail_in,_-=t.avail_out,t.total_in+=b,t.total_out+=_,r.total+=_,r.wrap&&_&&(t.adler=r.check=r.flags?i(r.check,d,_,t.next_out-_):o(r.check,d,_,t.next_out-_)),t.data_type=r.bits+(r.last?64:0)+(r.mode===h?128:0)+(20===r.mode||15===r.mode?256:0),(0===b&&0===_||4===e)&&B===f&&(B=-5),B)},e.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,f},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?c:(r.head=e,e.done=!1,f):c},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?c:11===r.mode&&o(1,e,n,0)!==r.check?-3:I(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,f):c},e.inflateInfo="pako inflate (from Nodeca project)"},241:(t,e,r)=>{"use strict";var n=r(236),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,f,c,u,h,l){var p,d,y,g,E,w,m,v,S,b=l.bits,_=0,A=0,I=0,O=0,F=0,C=0,N=0,T=0,k=0,R=0,L=null,x=0,U=new n.Buf16(16),B=new n.Buf16(16),P=null,D=0;for(_=0;_<=15;_++)U[_]=0;for(A=0;A<f;A++)U[e[r+A]]++;for(F=b,O=15;O>=1&&0===U[O];O--);if(F>O&&(F=O),0===O)return c[u++]=20971520,c[u++]=20971520,l.bits=1,0;for(I=1;I<O&&0===U[I];I++);for(F<I&&(F=I),T=1,_=1;_<=15;_++)if(T<<=1,(T-=U[_])<0)return-1;if(T>0&&(0===t||1!==O))return-1;for(B[1]=0,_=1;_<15;_++)B[_+1]=B[_]+U[_];for(A=0;A<f;A++)0!==e[r+A]&&(h[B[e[r+A]]++]=A);if(0===t?(L=P=h,w=19):1===t?(L=o,x-=257,P=i,D-=257,w=256):(L=s,P=a,w=-1),R=0,A=0,_=I,E=u,C=F,N=0,y=-1,g=(k=1<<F)-1,1===t&&k>852||2===t&&k>592)return 1;for(;;){m=_-N,h[A]<w?(v=0,S=h[A]):h[A]>w?(v=P[D+h[A]],S=L[x+h[A]]):(v=96,S=0),p=1<<_-N,I=d=1<<C;do{c[E+(R>>N)+(d-=p)]=m<<24|v<<16|S|0}while(0!==d);for(p=1<<_-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,A++,0==--U[_]){if(_===O)break;_=e[r+h[A]]}if(_>F&&(R&g)!==y){for(0===N&&(N=F),E+=I,T=1<<(C=_-N);C+N<O&&!((T-=U[C+N])<=0);)C++,T<<=1;if(k+=1<<C,1===t&&k>852||2===t&&k>592)return 1;c[y=R&g]=F<<24|C<<16|E-u|0}}return 0!==R&&(c[E+R]=_-N<<24|64<<16|0),l.bits=F,0}},898:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},292:t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},470:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,n="",o=0,i=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(i===a-1||1===s);else if(i!==a-1&&2===s){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){-1===f?(n="",o=0):o=(n=n.slice(0,f)).length-1-n.lastIndexOf("/"),i=a,s=0;continue}}else if(2===n.length||1===n.length){n="",o=0,i=a,s=0;continue}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),o=a-i-1;i=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var n={resolve:function(){for(var t,n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s;i>=0?s=arguments[i]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(n=s+"/"+n,o=47===s.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t="."),t.length>0&&o&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+="/"+o)}return void 0===t?".":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=n.resolve(t))===(r=n.resolve(r)))return"";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,s=i-o,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var f=r.length-a,c=s<f?s:f,u=-1,h=0;h<=c;++h){if(h===c){if(f>c){if(47===r.charCodeAt(a+h))return r.slice(a+h+1);if(0===h)return r.slice(a+h)}else s>c&&(47===t.charCodeAt(o+h)?u=h:0===h&&(u=0));break}var l=t.charCodeAt(o+h);if(l!==r.charCodeAt(a+h))break;47===l&&(u=h)}var p="";for(h=o+u+1;h<=i;++h)h!==i&&47!==t.charCodeAt(h)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(a+u):(a+=u,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!i){o=s;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var n,o=0,i=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var a=r.length-1,f=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!s){o=n+1;break}}else-1===f&&(s=!1,f=n+1),a>=0&&(c===r.charCodeAt(a)?-1==--a&&(i=n):(a=-1,i=f))}return o===i?i=f:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){o=n+1;break}}else-1===i&&(s=!1,i=n+1);return-1===i?"":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,s=0,a=t.length-1;a>=0;--a){var f=t.charCodeAt(a);if(47!==f)-1===o&&(i=!1,o=a+1),46===f?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!i){n=a+1;break}}return-1===r||-1===o||0===s||1===s&&r===o-1&&r===n+1?"":t.slice(r,o)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root="/",n=1):n=0;for(var s=-1,a=0,f=-1,c=!0,u=t.length-1,h=0;u>=n;--u)if(47!==(o=t.charCodeAt(u)))-1===f&&(c=!1,f=u+1),46===o?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=u+1;break}return-1===s||-1===f||0===h||1===h&&s===f-1&&s===a+1?-1!==f&&(r.base=r.name=0===a&&i?t.slice(1,f):t.slice(a,f)):(0===a&&i?(r.name=t.slice(1,s),r.base=t.slice(1,f)):(r.name=t.slice(a,s),r.base=t.slice(a,f)),r.ext=t.slice(s,f)),a>0?r.dir=t.slice(0,a-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=r(528);let e=null;onmessage=r=>{const n=r.data;if("start-webworker"===n.command){const r=n.opts,o=t=>new Promise((e=>{importScripts(t),e()})),i=t=>fetch(t).then((t=>t.ok&&t.json())),s=r.libraryOleanMap||r.libraryZip.slice(0,-3)+"olean_map.json";e=new t.InProcessTransport((()=>t.loadJsOrWasm(r,o)),t.loadBufferFromURLCached(r.libraryZip,r.libraryMeta,r.libraryKey,r.dbName),r.memoryMB||256,(()=>i(s))).connect(),e.jsonMessage.on((t=>postMessage(t))),e.error.on((t=>postMessage({response:"webworker-error",error:t})))}else e&&e.send(n)}})()})();